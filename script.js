$(function(){function o(){$(".item").each(function(){var o=$(this),t=$(this).find(".item_content");t.css("width",o.width()),t.css("height",o.height()),offset=o.position();var n=offset.top-$(document).scrollTop();t.css({left:offset.left,top:n})})}function t(){console.log("Inicio"),m.find("p").hide(),m.find("svg").hide(),$(".item").one("click",function(){$(this).off("click"),c=$(this),m=c.find(".item_content"),a=c.find("figure"),l=a.children("img"),itemPara=c.find("p"),s=c.find("svg"),a.hide(),n()})}function n(){f="noScroll",console.log("Programado evento final de transición"),console.log("Scroll de content activado"),console.log("Body no scroll"),m.one("transitionend",function(o){m.attr("class","item_content item_overlay  scroll"),i(),l.attr("class","item_image_centered"),a.fadeIn("fast"),s.fadeIn("fast"),itemPara.fadeIn("fast"),console.log("Posicionamiento de los objetos del content"),o.stopPropagation(),m.off("transitionend")}),console.log("Item open e Item active"),console.log("Programado onclick close, cuando se pulse llamará a close"),s.one("click",function(o){o.stopPropagation(),$(this).off("click"),e()}),c.attr("class","item item--active item--open")}function e(){console.log("Close"),console.log("Cierra content"),a.hide(),l.attr("class","item_image no-transition"),m.attr("class","item_content item_overlay fixed visible"),setTimeout(function(){l.attr("class","item_image")},10),console.log("Cambia a item_image"),f="",i(),console.log("Body scroll"),m.one("transitionend",function(o){a.fadeIn("fast"),m.attr("class","item_content item_overlay"),o.stopPropagation(),m.off("transitionend")}),c.attr("class","item"),console.log("Quita Scroll de content y termina"),t()}function i(){r.attr("class",f)}var c,s,a,l,r=$("body"),f="noScroll",d=$(".item"),m=d.find(".item_content");$(window).on("scroll",o),$(window).on("resize",o),o(),t()}),$(function(){function o(){window.scrollTo(0,0)}var t=$(".wrapper"),n=t.find("button.trigger");$(window).on("scroll",o),n.click(function(){"wrapper--open"==t.attr("class")?(t.removeAttr("class"),t.attr("class","wrapper"),$(this).attr("class","trigger"),$(window).on("scroll",o)):($(".wrapper").attr("class","wrapper--open"),$(this).attr("class","trigger--active"),$(window).off("scroll",o))})});
